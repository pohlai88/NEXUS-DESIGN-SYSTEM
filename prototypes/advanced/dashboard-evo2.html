<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NexusCanon — CDN Evolution Console (Prototype)</title>
    <!-- Point this to your compiled CSS output -->
    <link rel="stylesheet" href="../../style.css" />
</head>

<body class="na-density-compact">
    <a class="na-skip-link" href="#main">Skip to content</a>
    <div class="na-bg-grain" aria-hidden="true"></div>

    <!-- =========================
       CSS-only toast (checkbox)
       ========================= -->
    <div class="na-toasts" aria-live="polite" aria-relevant="additions text">
        <input class="na-toast-toggle" type="checkbox" id="t-ok" checked />
        <div class="na-toast na-toast--success" role="status">
            <div class="na-toast-row">
                <div class="na-toast-icon" aria-hidden="true">✓</div>
                <div class="na-toast-body">
                    <div class="na-toast-title">Mesh healed</div>
                    <div class="na-toast-desc">SEA‑EDGE‑02 auto‑recovered. Canary stabilized in 312ms.</div>
                    <div class="na-toast-meta">Trace 9f1c… • Policy: routing.write • Evidence attached</div>
                </div>
                <label class="na-toast-close" for="t-ok" aria-label="Dismiss">×</label>
            </div>
        </div>
    </div>

    <div class="na-shell">
        <!-- =========================
         SIDEBAR
         ========================= -->
        <aside class="na-sidebar na-scroll" aria-label="Primary">
            <div class="na-brand">
                <div class="na-mark" aria-hidden="true">NC</div>
                <div>
                    <div class="na-brand-title">NexusCanon</div>
                    <div class="na-metadata">CDN Evolution Console</div>
                </div>
            </div>

            <div class="na-nav-section">CONTROL PLANE</div>
            <nav class="na-nav">
                <a class="na-nav-item is-active" href="#dash">
                    <span>Dashboard</span>
                    <span class="na-nav-meta">LIVE</span>
                </a>
                <a class="na-nav-item" href="#mesh"><span>Mesh</span><span class="na-nav-meta">128</span></a>
                <a class="na-nav-item" href="#routing"><span>Routing</span><span class="na-nav-meta">AUTO</span></a>
                <a class="na-nav-item" href="#policies"><span>Policies</span><span class="na-nav-meta">RBAC</span></a>
                <a class="na-nav-item" href="#ledger"><span>Audit Ledger</span><span class="na-nav-meta">SOX</span></a>
            </nav>

            <div class="na-nav-section">EVOLUTION</div>
            <nav class="na-nav">
                <a class="na-nav-item" href="#stages"><span>Stages</span><span class="na-nav-meta">5</span></a>
                <a class="na-nav-item" href="#experiments"><span>Experiments</span><span
                        class="na-nav-meta">12</span></a>
                <a class="na-nav-item" href="#incidents"><span>Incidents</span><span class="na-nav-meta">3</span></a>
            </nav>

            <div class="na-sidebar-footer">
                <div class="na-muted" style="font-size:12px; line-height:1.35;">
                    SOC2 Type II • ISO 27001 • Kernel-ready
                </div>
                <div class="na-divider" style="margin:12px 0;"></div>
                <div class="na-stack" style="gap:8px;">
                    <div class="na-chip">Tenant: DLB • MY</div>
                    <div class="na-chip">Mode: Shadow + Explain</div>
                </div>
            </div>
        </aside>

        <!-- =========================
         MAIN
         ========================= -->
        <main class="na-main" id="main">
            <header class="na-header" id="dash">
                <div style="min-width:0;">
                    <div class="na-metadata">Nexus CDN • v3.2 • Governance Ledger ON</div>
                    <h1 class="na-h2 cursor-heading" style="margin-top:2px;">Edge → Mesh Evolution</h1>
                    <div class="na-page-meta cursor-subheading">A product narrative view — not just metrics.</div>
                </div>

                <div class="na-header-actions" style="flex-wrap:wrap;">
                    <div class="na-search">
                        <span class="na-search-icon" aria-hidden="true">⌕</span>
                        <input class="na-search-input" type="search" placeholder="Search nodes, routes, tenants…"
                            aria-label="Search" />
                    </div>

                    <a class="na-btn na-btn-ghost" href="#modal-change">New change</a>
                    <a class="na-btn na-btn-primary" href="#modal-change">Deploy</a>
                    <button class="na-iconbtn" type="button" aria-label="Open settings">⚙</button>
                </div>
            </header>

            <div class="na-content na-scroll">
                <!-- =========================
             KPI STRIP
             ========================= -->
                <section class="na-grid na-grid-kpi">
                    <div class="na-card">
                        <div class="na-kpi">
                            <div>
                                <div class="na-kpi-label cursor-label">Signal</div>
                                <div class="na-kpi-value na-tabular">98.7%</div>
                                <div class="na-muted">Edge health confidence</div>
                            </div>
                            <div class="na-kpi-icon" aria-hidden="true">◎</div>
                        </div>
                    </div>

                    <div class="na-card">
                        <div class="na-kpi">
                            <div>
                                <div class="na-kpi-label cursor-label">Latency</div>
                                <div class="na-kpi-value na-tabular">42ms</div>
                                <div class="na-muted">p95 global routing</div>
                            </div>
                            <div class="na-kpi-icon" aria-hidden="true">⏱</div>
                        </div>
                    </div>

                    <div class="na-card">
                        <div class="na-kpi">
                            <div>
                                <div class="na-kpi-label cursor-label">Drift</div>
                                <div class="na-kpi-value na-tabular">0</div>
                                <div class="na-muted">Unapproved config diffs</div>
                            </div>
                            <div class="na-kpi-icon" aria-hidden="true">⟡</div>
                        </div>
                    </div>
                </section>

                <!-- =========================
             HERO: Evolution rail + Mirror
             ========================= -->
                <section class="na-grid" style="grid-template-columns: 1.35fr 0.65fr;">
                    <!-- LEFT -->
                    <div class="na-stack" style="gap:14px;">
                        <div class="na-card">
                            <div class="na-card-title">CDN maturity</div>
                            <div class="na-card-meta">From “Edge cache” to “Self‑healing mesh”</div>

                            <div class="na-divider" style="margin:14px 0;"></div>

                            <div class="na-grid" style="grid-template-columns: 1fr 1fr;">
                                <div class="na-panel">
                                    <div class="na-panel-head">
                                        <div class="na-panel-title">Current stage</div>
                                        <div class="na-chip">Stage 4 / 5</div>
                                    </div>
                                    <div class="na-data-large">Governed Mesh</div>
                                    <div class="na-muted">Policy‑enforced routes + evidence ledger.</div>
                                </div>

                                <div class="na-panel">
                                    <div class="na-panel-head">
                                        <div class="na-panel-title">Next stage</div>
                                        <div class="na-chip">Preview</div>
                                    </div>
                                    <div class="na-data-large">Autonomous Mesh</div>
                                    <div class="na-muted">Self‑healing + explainability + continuous compliance.</div>
                                </div>
                            </div>

                            <div style="margin-top:14px;">
                                <div class="cursor-label" style="margin-bottom:8px;">Evolution rail</div>
                                <div class="na-bars" aria-label="Maturity rail">
                                    <div class="na-bar" style="height:35%"></div>
                                    <div class="na-bar" style="height:52%"></div>
                                    <div class="na-bar" style="height:68%"></div>
                                    <div class="na-bar gold" style="height:86%"></div>
                                    <div class="na-bar" style="height:100%; opacity:.35;"></div>
                                </div>
                                <div class="na-muted" style="margin-top:10px;">
                                    Active stage: <strong>Governed Mesh</strong> — measured, enforced, and audited.
                                </div>
                            </div>
                        </div>

                        <div class="na-grid" style="grid-template-columns: 1fr 1fr;">
                            <div class="na-card">
                                <div class="na-card-title">Legacy mirror</div>
                                <div class="na-card-meta">“Chaos” mode</div>
                                <div class="na-divider" style="margin:12px 0;"></div>
                                <ul class="na-list">
                                    <li><span class="na-status bad">Risk</span> Manual routing overrides</li>
                                    <li><span class="na-status pending">Drift</span> 17 configs differ from SSOT</li>
                                    <li><span class="na-status bad">Evidence</span> Deploy notes missing</li>
                                </ul>
                            </div>

                            <div class="na-card">
                                <div class="na-card-title">Nexus mirror</div>
                                <div class="na-card-meta">Governed mesh</div>
                                <div class="na-divider" style="margin:12px 0;"></div>
                                <ul class="na-list">
                                    <li><span class="na-status ok">Stable</span> Policy-first routing</li>
                                    <li><span class="na-status ok">Auto</span> Canary + rollback</li>
                                    <li><span class="na-status ok">Ledger</span> Evidence attached</li>
                                </ul>
                            </div>
                        </div>

                        <details class="na-details">
                            <summary class="na-summary">
                                <div>
                                    <div class="na-summary-title">Stage map — what changes at each level</div>
                                    <div class="na-summary-sub">Evolution is capability, not decoration.</div>
                                </div>
                                <div class="na-summary-chevron" aria-hidden="true"></div>
                            </summary>
                            <div class="na-details-body">
                                <div class="na-details-section">
                                    <div class="na-metadata">Stage 1</div>
                                    <div class="na-h5">Edge Genesis</div>
                                    <div class="na-muted">Static routes, manual invalidation.</div>
                                </div>
                                <div class="na-details-section">
                                    <div class="na-metadata">Stage 2</div>
                                    <div class="na-h5">Adaptive Routing</div>
                                    <div class="na-muted">Telemetry-driven decisions.</div>
                                </div>
                                <div class="na-details-section">
                                    <div class="na-metadata">Stage 3</div>
                                    <div class="na-h5">Predictive Prefetch</div>
                                    <div class="na-muted">Model-assisted prefetch + anomaly scoring.</div>
                                </div>
                                <div class="na-details-section">
                                    <div class="na-metadata">Stage 4</div>
                                    <div class="na-h5">Governed Mesh</div>
                                    <div class="na-muted">RBAC + policy + evidence + rollback.</div>
                                </div>
                                <div class="na-details-section">
                                    <div class="na-metadata">Stage 5</div>
                                    <div class="na-h5">Autonomous Mesh</div>
                                    <div class="na-muted">Self-healing + explainability.</div>
                                </div>
                            </div>
                        </details>
                    </div>

                    <!-- RIGHT -->
                    <div class="na-stack" style="gap:14px;">
                        <div class="na-card">
                            <div class="na-card-title">Decision layer</div>
                            <div class="na-card-meta">CRUD-only governance (Update via enum)</div>

                            <div class="na-divider" style="margin:14px 0;"></div>

                            <div class="na-panel" data-state="first-run">
                                <!-- skeleton -->
                                <div class="na-skel">
                                    <div class="na-skeleton na-skel-block" style="height:14px; width:58%;"></div>
                                    <div style="height:10px;"></div>
                                    <div class="na-skeleton na-skel-block" style="height:38px; width:100%;"></div>
                                    <div style="height:10px;"></div>
                                    <div class="na-skeleton na-skel-block" style="height:38px; width:100%;"></div>
                                </div>

                                <!-- real -->
                                <div class="na-real">
                                    <div class="na-panel-head">
                                        <div class="na-panel-title">Change request</div>
                                        <div class="na-chip">ENUM: approve/reject/withdraw/cancel</div>
                                    </div>

                                    <div class="na-muted" style="margin-top:6px;">
                                        Every action is audit-safe and maps to a single ledger entry.
                                    </div>

                                    <div class="na-divider" style="margin:12px 0;"></div>

                                    <div class="na-grid" style="grid-template-columns: 1fr 1fr; gap:10px;">
                                        <button class="na-btn na-btn-primary" type="button">Approve</button>
                                        <button class="na-btn na-btn-danger" type="button">Reject</button>
                                        <button class="na-btn na-btn-ghost" type="button">Withdraw</button>
                                        <button class="na-btn na-btn-ghost" type="button">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="na-card">
                            <div class="na-card-title">Audit stream</div>
                            <div class="na-card-meta">Immutable ledger entries</div>

                            <div class="na-divider" style="margin:14px 0;"></div>

                            <div class="na-stack" style="gap:10px;">
                                <div class="na-panel">
                                    <div class="na-panel-head">
                                        <div class="na-panel-title">Policy evaluation</div>
                                        <div class="na-chip">PASS</div>
                                    </div>
                                    <div class="na-muted">RBAC scope “routing:write” verified • Trace 9f1c…</div>
                                </div>
                                <div class="na-panel">
                                    <div class="na-panel-head">
                                        <div class="na-panel-title">Canary deployed</div>
                                        <div class="na-chip">5%</div>
                                    </div>
                                    <div class="na-muted">SEA‑EDGE‑02 • Build 3.2.19</div>
                                </div>
                                <div class="na-panel">
                                    <div class="na-panel-head">
                                        <div class="na-panel-title">Auto rollback</div>
                                        <div class="na-chip">SAFE</div>
                                    </div>
                                    <div class="na-muted">Anomaly score exceeded threshold • Reason: jitter</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- =========================
             TABLE: Edge nodes
             ========================= -->
                <section style="margin-top:16px;">
                    <div class="na-card">
                        <div class="na-panel-head">
                            <div>
                                <div class="na-card-title">Mesh inventory</div>
                                <div class="na-card-meta">Edge nodes</div>
                            </div>
                            <div style="display:flex; align-items:center; gap:8px;">
                                <div class="na-chip">Filter: SEA</div>
                                <div class="na-chip">p95 &lt; 80ms</div>
                                <a class="na-btn na-btn-ghost" href="#modal-change">Export</a>
                            </div>
                        </div>

                        <div class="na-divider" style="margin:14px 0;"></div>

                        <div class="na-table-wrap na-scroll" role="region" aria-label="Edge nodes table">
                            <table class="na-table">
                                <thead>
                                    <tr class="na-tr">
                                        <th class="na-th">Node</th>
                                        <th class="na-th">Region</th>
                                        <th class="na-th">p95</th>
                                        <th class="na-th">Health</th>
                                        <th class="na-th">Last change</th>
                                        <th class="na-th" style="text-align:right;">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="na-tr na-tr-interactive">
                                        <td class="na-td">
                                            <div class="na-h5">SEA‑HCMC‑07</div>
                                            <div class="na-td-meta">edge://hcmc‑07</div>
                                        </td>
                                        <td class="na-td">VN • HCMC</td>
                                        <td class="na-td na-tabular">41ms</td>
                                        <td class="na-td"><span class="na-status ok">Healthy</span></td>
                                        <td class="na-td na-tabular">10:16</td>
                                        <td class="na-td" style="text-align:right;"><a class="na-rowbtn"
                                                href="#modal-change" aria-label="Inspect SEA-HCMC-07">↗</a></td>
                                    </tr>

                                    <tr class="na-tr na-tr-interactive">
                                        <td class="na-td">
                                            <div class="na-h5">SEA‑SIN‑02</div>
                                            <div class="na-td-meta">edge://sin‑02</div>
                                        </td>
                                        <td class="na-td">SG • SIN</td>
                                        <td class="na-td na-tabular">58ms</td>
                                        <td class="na-td"><span class="na-status pending">Flapping</span></td>
                                        <td class="na-td na-tabular">10:15</td>
                                        <td class="na-td" style="text-align:right;"><a class="na-rowbtn"
                                                href="#modal-change" aria-label="Mitigate SEA-SIN-02">⚑</a></td>
                                    </tr>

                                    <tr class="na-tr na-tr-interactive">
                                        <td class="na-td">
                                            <div class="na-h5">SEA‑BKK‑01</div>
                                            <div class="na-td-meta">edge://bkk‑01</div>
                                        </td>
                                        <td class="na-td">TH • BKK</td>
                                        <td class="na-td na-tabular">91ms</td>
                                        <td class="na-td"><span class="na-status bad">Degraded</span></td>
                                        <td class="na-td na-tabular">10:12</td>
                                        <td class="na-td" style="text-align:right;"><a class="na-rowbtn"
                                                href="#modal-change" aria-label="Rollback SEA-BKK-01">↺</a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="na-divider" style="margin:14px 0;"></div>

                        <div class="na-muted">
                            Tip: keep this view IDE‑compact — label → value → action, always.
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- =========================
       CSS-only modal (:target)
       ========================= -->
    <section id="modal-change" class="na-modal" aria-label="Create change request">
        <a class="na-modal__backdrop" href="#" aria-label="Close"></a>

        <div class="na-modal__panel" role="dialog" aria-modal="true" aria-labelledby="m-title">
            <header class="na-modal__header">
                <div>
                    <div class="na-metadata">Change Request</div>
                    <h2 class="na-h3" id="m-title">Deploy routing policy update</h2>
                </div>
                <a class="na-iconbtn" href="#" aria-label="Close">×</a>
            </header>

            <div class="na-modal__body">
                <div class="na-grid" style="grid-template-columns: 1fr 1fr;">
                    <div class="na-field" data-state="info">
                        <label class="na-label" for="cr-title">Title</label>
                        <div class="na-inline">
                            <span class="na-inline-icon" aria-hidden="true">✦</span>
                            <input class="na-input" id="cr-title" type="text" value="SEA‑EDGE route stabilization" />
                        </div>
                        <p class="na-help">Keep it audit‑friendly (what + where + why).</p>
                    </div>

                    <div class="na-field">
                        <label class="na-label" for="cr-scope">Scope</label>
                        <select class="na-select" id="cr-scope">
                            <option>Routing</option>
                            <option>Edge Cache</option>
                            <option>Security Policy</option>
                            <option>Observability</option>
                        </select>
                        <p class="na-help">Mapped to RBAC scopes and ledger categories.</p>
                    </div>
                </div>

                <div class="na-field" data-state="error" style="margin-top:12px;">
                    <label class="na-label" for="cr-evidence">Evidence (required)</label>
                    <div class="na-inline">
                        <span class="na-inline-icon" aria-hidden="true">⬆</span>
                        <input class="na-input" id="cr-evidence" type="text"
                            placeholder="Attach report / screenshot / SOC2 note…" />
                    </div>
                    <p class="na-help">Missing evidence blocks “Approve” in production mode.</p>
                </div>

                <div class="na-divider" style="margin:14px 0;"></div>

                <div class="na-modal__actions">
                    <a class="na-btn na-btn-ghost" href="#">Cancel</a>
                    <a class="na-btn na-btn-primary" href="#">Create</a>
                </div>
            </div>
        </div>
    </section>
</body>

</html>
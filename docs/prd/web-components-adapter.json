{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "version": "1.1.0",
    "project": {
        "name": "Web Components Adapter System",
        "prdVersion": "1.1.0",
        "status": "approved",
        "lastUpdated": "2026-01-03T15:00:00Z"
    },
    "phases": [
        {
            "id": "phase-1",
            "name": "Foundation & Runtime",
            "duration": "Week 1",
            "status": "complete",
            "tasks": [
                {
                    "id": "task-1-1",
                    "name": "Create adapters/web/runtime/ structure",
                    "status": "complete",
                    "files": [
                        "adapters/web/runtime/",
                        "adapters/web/runtime/primitives.ts",
                        "adapters/web/runtime/utils.ts",
                        "adapters/web/runtime/tsconfig.json"
                    ]
                },
                {
                    "id": "task-1-2",
                    "name": "Implement Runtime Primitives (Native Radix)",
                    "status": "complete",
                    "files": [
                        "adapters/web/runtime/primitives.ts"
                    ]
                },
                {
                    "id": "task-1-3",
                    "name": "Configure & Run Runtime Build",
                    "status": "complete",
                    "command": "pnpm build:runtime",
                    "description": "Transpile TypeScript Runtime to ES Modules in dist/web/lib/"
                },
                {
                    "id": "task-1-4",
                    "name": "Unit tests for Runtime",
                    "status": "complete",
                    "files": [
                        "tests/adapters/web/runtime.test.ts"
                    ],
                    "coverageTarget": 95
                }
            ],
            "gate": {
                "name": "Runtime Library Built & Tested",
                "status": "unlocked",
                "requirements": [
                    "task-1-3",
                    "task-1-4"
                ]
            }
        },
        {
            "id": "phase-2",
            "name": "Adapter Generator",
            "duration": "Week 1-2",
            "status": "complete",
            "tasks": [
                {
                    "id": "task-2-1",
                    "name": "Implement Generator (adapter.ts)",
                    "status": "complete",
                    "files": [
                        "adapters/web/adapter.ts"
                    ]
                },
                {
                    "id": "task-2-2",
                    "name": "Implement Event Name Translation",
                    "status": "complete",
                    "description": "Ensure onOpenChange maps to na-open-change"
                }
            ],
            "gate": {
                "name": "Adapter generating valid code",
                "status": "unlocked",
                "requirements": [
                    "task-2-1",
                    "task-2-2"
                ]
            }
        },
        {
            "id": "phase-3",
            "name": "First Component (Dialog)",
            "duration": "Week 2",
            "status": "complete",
            "tasks": [
                {
                    "id": "task-3-1",
                    "name": "Generate na-dialog",
                    "status": "complete",
                    "files": [
                        "dist/adapters/vanilla/dialog.js"
                    ]
                },
                {
                    "id": "task-3-2",
                    "name": "Verify Light DOM Styling",
                    "status": "complete",
                    "description": "Ensure global style.css applies to dialog panel"
                }
            ],
            "gate": {
                "name": "Dialog working in HTML shell",
                "status": "unlocked",
                "requirements": [
                    "task-3-1",
                    "task-3-2"
                ]
            }
        },
        {
            "id": "phase-4",
            "name": "Full Suite",
            "duration": "Week 3",
            "status": "complete",
            "tasks": [
                {
                    "id": "task-4-1",
                    "name": "Generate All 12 Components",
                    "status": "complete",
                    "componentCount": 12
                }
            ],
            "gate": {
                "name": "All components generated",
                "status": "unlocked",
                "requirements": [
                    "task-4-1"
                ]
            }
        },
        {
            "id": "phase-5",
            "name": "Polish & Release",
            "duration": "Week 4",
            "status": "complete",
            "tasks": [
                {
                    "id": "task-5-1",
                    "name": "Final Documentation Review",
                    "status": "complete",
                    "description": "Review and finalize all documentation"
                },
                {
                    "id": "task-5-2",
                    "name": "Bundle Size Analysis",
                    "status": "complete",
                    "description": "Analyze and optimize bundle sizes"
                },
                {
                    "id": "task-5-3",
                    "name": "Performance Optimization",
                    "status": "complete",
                    "description": "Optimize component performance"
                },
                {
                    "id": "task-5-4",
                    "name": "Release Preparation",
                    "status": "complete",
                    "description": "Prepare package.json exports and release artifacts"
                }
            ],
            "gate": {
                "name": "Ready for Release",
                "status": "unlocked",
                "requirements": [
                    "task-5-1",
                    "task-5-2",
                    "task-5-3",
                    "task-5-4"
                ]
            }
        }
    ],
    "validation": {
        "rules": [
            {
                "id": "rule-1",
                "description": "All generated Web Components must use Radix UI accessibility patterns",
                "enforced": true
            },
            {
                "id": "rule-2",
                "description": "Web Components must be generated from existing JSON specs (SSOT)",
                "enforced": true
            },
            {
                "id": "rule-6",
                "description": "CRITICAL: Components must use Light DOM (innerHTML) to inherit 'style.css' tokens.",
                "enforced": true
            },
            {
                "id": "rule-7",
                "description": "Event Translation: React props (onValueChange) must map to native CustomEvents (na-value-change).",
                "enforced": true
            }
        ]
    },
    "directoryStructure": {
        "required": [
            {
                "path": "adapters/web/adapter.ts",
                "type": "file",
                "required": true
            },
            {
                "path": "adapters/web/runtime/",
                "type": "directory",
                "required": true
            },
            {
                "path": "dist/web/lib/",
                "type": "directory",
                "required": true
            }
        ]
    }
}
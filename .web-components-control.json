{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "version": "1.1.0",
    "project": {
        "name": "Web Components Adapter System",
        "prdVersion": "1.1.0",
        "prdDate": "2026-01-03",
        "status": "approved",
        "lastUpdated": "2026-01-03T00:00:00Z"
    },
    "architecture": {
        "notes": "Separates Build-time Generator from Browser-time Runtime logic. Generator runs on Node.js to write files. Runtime code runs in browser and must be compiled to dist/web/lib/",
        "generator": {
            "description": "Node.js/TypeScript code that reads JSON specs and generates Web Component files",
            "location": "adapters/web/adapter.ts",
            "runtime": "node"
        },
        "runtime": {
            "description": "Browser JavaScript code (Primitives, FocusTrap) that runs in user's browser",
            "location": "adapters/web/runtime/",
            "output": "dist/web/lib/",
            "runtime": "browser"
        }
    },
    "phases": [
        {
            "id": "phase-1",
            "name": "Foundation & Runtime",
            "duration": "Week 1",
            "status": "pending",
            "startDate": null,
            "endDate": null,
            "tasks": [
                {
                    "id": "task-1-1",
                    "name": "Create adapters/web/runtime/ directory",
                    "status": "pending",
                    "files": [
                        "adapters/web/runtime/"
                    ]
                },
                {
                    "id": "task-1-2",
                    "name": "Implement Runtime Logic (primitives.ts, utils.ts)",
                    "status": "pending",
                    "files": [
                        "adapters/web/runtime/primitives.ts",
                        "adapters/web/runtime/utils.ts"
                    ]
                },
                {
                    "id": "task-1-3",
                    "name": "Configure Runtime Build (tsconfig + script)",
                    "status": "pending",
                    "files": [
                        "adapters/web/runtime/tsconfig.json"
                    ],
                    "description": "Enable 'pnpm build:runtime' to transpile TS -> ESM for browser",
                    "command": "pnpm build:runtime"
                },
                {
                    "id": "task-1-4",
                    "name": "Unit tests for Runtime",
                    "status": "pending",
                    "files": [
                        "tests/adapters/web/runtime.test.ts"
                    ],
                    "coverageTarget": 95
                }
            ],
            "gate": {
                "name": "Runtime Library Built & Tested",
                "status": "locked",
                "requirements": [
                    "task-1-3",
                    "task-1-4"
                ]
            }
        },
        {
            "id": "phase-2",
            "name": "Adapter Generator",
            "duration": "Week 1-2",
            "status": "pending",
            "startDate": null,
            "endDate": null,
            "tasks": [
                {
                    "id": "task-2-1",
                    "name": "Implement Generator (adapter.ts)",
                    "status": "pending",
                    "files": [
                        "adapters/web/adapter.ts"
                    ]
                },
                {
                    "id": "task-2-2",
                    "name": "Implement Event Name Translation",
                    "status": "pending",
                    "description": "Ensure onOpenChange maps to na-open-change"
                },
                {
                    "id": "task-2-3",
                    "name": "Unit tests for adapter",
                    "status": "pending",
                    "files": [
                        "tests/adapters/web/adapter.test.ts"
                    ],
                    "dependencies": [
                        "task-2-1"
                    ],
                    "coverageTarget": 95
                }
            ],
            "gate": {
                "name": "Adapter generating valid code",
                "status": "locked",
                "requirements": [
                    "task-2-1",
                    "task-2-2",
                    "task-2-3"
                ]
            }
        },
        {
            "id": "phase-3",
            "name": "First Component",
            "duration": "Week 2",
            "status": "pending",
            "startDate": null,
            "endDate": null,
            "tasks": [
                {
                    "id": "task-3-1",
                    "name": "Generate Dialog component",
                    "status": "pending",
                    "files": [
                        "dist/web/na-dialog.js"
                    ],
                    "dependencies": [
                        "phase-2"
                    ]
                },
                {
                    "id": "task-3-2",
                    "name": "Integration test",
                    "status": "pending",
                    "files": [
                        "tests/adapters/web/integration.test.ts"
                    ],
                    "dependencies": [
                        "task-3-1"
                    ]
                },
                {
                    "id": "task-3-3",
                    "name": "HTML shell example",
                    "status": "pending",
                    "files": [
                        "components/html/examples/dialog-example.html"
                    ],
                    "dependencies": [
                        "task-3-1"
                    ]
                }
            ],
            "gate": {
                "name": "Dialog working in HTML shell",
                "status": "locked",
                "requirements": [
                    "task-3-1",
                    "task-3-2",
                    "task-3-3"
                ]
            }
        },
        {
            "id": "phase-4",
            "name": "Full Generation",
            "duration": "Week 2-3",
            "status": "completed",
            "startDate": null,
            "endDate": null,
            "tasks": [
                {
                    "id": "task-4-1",
                    "name": "Generate all 12+ components",
                    "status": "completed",
                    "files": [
                        "dist/web/*.js"
                    ],
                    "dependencies": [
                        "phase-3"
                    ],
                    "componentCount": 12
                },
                {
                    "id": "task-4-2",
                    "name": "Integration tests for all",
                    "status": "completed",
                    "files": [
                        "tests/adapters/web/integration.test.ts"
                    ],
                    "dependencies": [
                        "task-4-1"
                    ]
                },
                {
                    "id": "task-4-3",
                    "name": "HTML shell examples",
                    "status": "completed",
                    "files": [
                        "components/html/examples/*.html"
                    ],
                    "dependencies": [
                        "task-4-1"
                    ]
                }
            ],
            "gate": {
                "name": "All components working",
                "status": "passed",
                "requirements": [
                    "task-4-1",
                    "task-4-2",
                    "task-4-3"
                ]
            }
        },
        {
            "id": "phase-5",
            "name": "Polish & Release",
            "duration": "Week 3",
            "status": "pending",
            "startDate": null,
            "endDate": null,
            "tasks": [
                {
                    "id": "task-5-1",
                    "name": "Documentation",
                    "status": "pending",
                    "files": [
                        "adapters/web/README.md",
                        "docs/WEB_COMPONENTS_GUIDE.md"
                    ],
                    "dependencies": [
                        "phase-4"
                    ]
                },
                {
                    "id": "task-5-2",
                    "name": "Final testing",
                    "status": "pending",
                    "dependencies": [
                        "phase-4"
                    ]
                },
                {
                    "id": "task-5-3",
                    "name": "Performance optimization",
                    "status": "pending",
                    "dependencies": [
                        "phase-4"
                    ]
                },
                {
                    "id": "task-5-4",
                    "name": "Release preparation",
                    "status": "pending",
                    "dependencies": [
                        "task-5-1",
                        "task-5-2",
                        "task-5-3"
                    ]
                }
            ],
            "gate": {
                "name": "All DoD items complete",
                "status": "locked",
                "requirements": [
                    "task-5-1",
                    "task-5-2",
                    "task-5-3",
                    "task-5-4"
                ]
            }
        }
    ],
    "checkpoints": [
        {
            "id": "checkpoint-1",
            "name": "Architecture Alignment",
            "category": "pre-development",
            "status": "pending",
            "gate": "Architecture review approval required before coding",
            "items": [
                {
                    "id": "cp1-1",
                    "description": "Verify alignment with Universal Adapter pattern",
                    "status": "pending"
                },
                {
                    "id": "cp1-2",
                    "description": "Confirm no breaking changes to existing React adapter",
                    "status": "pending"
                },
                {
                    "id": "cp1-3",
                    "description": "Validate directory structure matches project standards",
                    "status": "pending"
                },
                {
                    "id": "cp1-4",
                    "description": "Review tech stack compatibility",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-2",
            "name": "Spec Validation",
            "category": "pre-development",
            "status": "pending",
            "gate": "Spec validation passing",
            "items": [
                {
                    "id": "cp2-1",
                    "description": "All existing specs validated (pnpm validate:specs)",
                    "status": "pending",
                    "command": "pnpm validate:specs"
                },
                {
                    "id": "cp2-2",
                    "description": "Specs compatible with Web Components generation",
                    "status": "pending"
                },
                {
                    "id": "cp2-3",
                    "description": "No spec changes required (Web Components use same specs)",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-3",
            "name": "Primitives Implementation",
            "category": "development",
            "status": "pending",
            "gate": "Primitives tests passing + code review",
            "items": [
                {
                    "id": "cp3-1",
                    "description": "Radix UI logic ported correctly",
                    "status": "pending"
                },
                {
                    "id": "cp3-2",
                    "description": "All accessibility patterns implemented",
                    "status": "pending"
                },
                {
                    "id": "cp3-3",
                    "description": "Unit tests for primitives (≥95% coverage)",
                    "status": "pending",
                    "coverageTarget": 95,
                    "command": "pnpm test:coverage"
                },
                {
                    "id": "cp3-4",
                    "description": "Code review: primitives match Radix behavior",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-4",
            "name": "Adapter Generator",
            "category": "development",
            "status": "pending",
            "gate": "Adapter tests passing + code review",
            "items": [
                {
                    "id": "cp4-1",
                    "description": "Adapter implements UniversalAdapter interface",
                    "status": "pending"
                },
                {
                    "id": "cp4-2",
                    "description": "Generates valid Web Components code",
                    "status": "pending"
                },
                {
                    "id": "cp4-3",
                    "description": "Handles all component types (simple, composite)",
                    "status": "pending"
                },
                {
                    "id": "cp4-4",
                    "description": "Unit tests for adapter (≥95% coverage)",
                    "status": "pending",
                    "coverageTarget": 95
                }
            ]
        },
        {
            "id": "checkpoint-5",
            "name": "Component Generation",
            "category": "development",
            "status": "pending",
            "gate": "First component working + integration test passing",
            "items": [
                {
                    "id": "cp5-1",
                    "description": "Generate first component (Dialog) successfully",
                    "status": "pending"
                },
                {
                    "id": "cp5-2",
                    "description": "Generated code validates (syntax, exports)",
                    "status": "pending"
                },
                {
                    "id": "cp5-3",
                    "description": "Component works in HTML shell",
                    "status": "pending"
                },
                {
                    "id": "cp5-4",
                    "description": "Integration test passing",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-6",
            "name": "Code Quality",
            "category": "quality",
            "status": "pending",
            "gate": "Quality checks passing",
            "items": [
                {
                    "id": "cp6-1",
                    "description": "TypeScript compilation successful",
                    "status": "pending",
                    "command": "pnpm build:ts"
                },
                {
                    "id": "cp6-2",
                    "description": "No linting errors",
                    "status": "pending",
                    "command": "pnpm lint"
                },
                {
                    "id": "cp6-3",
                    "description": "Code formatted (Prettier)",
                    "status": "pending",
                    "command": "pnpm format:check"
                },
                {
                    "id": "cp6-4",
                    "description": "All tests passing",
                    "status": "pending",
                    "command": "pnpm test"
                }
            ]
        },
        {
            "id": "checkpoint-7",
            "name": "Test Coverage",
            "category": "quality",
            "status": "pending",
            "gate": "Coverage ≥95% + all tests passing",
            "items": [
                {
                    "id": "cp7-1",
                    "description": "Unit tests: ≥95% coverage",
                    "status": "pending",
                    "coverageTarget": 95,
                    "command": "pnpm test:coverage"
                },
                {
                    "id": "cp7-2",
                    "description": "Integration tests: All scenarios covered",
                    "status": "pending"
                },
                {
                    "id": "cp7-3",
                    "description": "Accessibility tests: All patterns tested",
                    "status": "pending"
                },
                {
                    "id": "cp7-4",
                    "description": "Browser compatibility: Tested in target browsers",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-8",
            "name": "Documentation",
            "category": "quality",
            "status": "pending",
            "gate": "Documentation review approval",
            "items": [
                {
                    "id": "cp8-1",
                    "description": "README.md complete",
                    "status": "pending",
                    "files": [
                        "adapters/web/README.md"
                    ]
                },
                {
                    "id": "cp8-2",
                    "description": "Usage guide complete",
                    "status": "pending",
                    "files": [
                        "docs/WEB_COMPONENTS_GUIDE.md"
                    ]
                },
                {
                    "id": "cp8-3",
                    "description": "API reference updated",
                    "status": "pending"
                },
                {
                    "id": "cp8-4",
                    "description": "Examples provided",
                    "status": "pending",
                    "files": [
                        "components/html/examples/*.html"
                    ]
                }
            ]
        },
        {
            "id": "checkpoint-9",
            "name": "Build Integration",
            "category": "integration",
            "status": "pending",
            "gate": "Build successful + exports working",
            "items": [
                {
                    "id": "cp9-1",
                    "description": "Build script updated",
                    "status": "pending",
                    "files": [
                        "scripts/generate-adapter.ts",
                        "scripts/build-components.ts"
                    ]
                },
                {
                    "id": "cp9-2",
                    "description": "Package.json exports updated",
                    "status": "pending",
                    "files": [
                        "package.json"
                    ]
                },
                {
                    "id": "cp9-3",
                    "description": "TypeScript config updated (if needed)",
                    "status": "pending",
                    "files": [
                        "tsconfig.build.json"
                    ]
                },
                {
                    "id": "cp9-4",
                    "description": "CI/CD pipeline updated (if applicable)",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-10",
            "name": "HTML Shell Integration",
            "category": "integration",
            "status": "pending",
            "gate": "HTML shell integration working + performance verified",
            "items": [
                {
                    "id": "cp10-1",
                    "description": "Web Components work in HTML shells",
                    "status": "pending"
                },
                {
                    "id": "cp10-2",
                    "description": "No React dependency required",
                    "status": "pending"
                },
                {
                    "id": "cp10-3",
                    "description": "Performance meets targets",
                    "status": "pending",
                    "metrics": {
                        "bundleSize": "<50KB gzipped",
                        "loadTime": "<100ms",
                        "reactOverhead": "0KB"
                    }
                },
                {
                    "id": "cp10-4",
                    "description": "Accessibility verified",
                    "status": "pending"
                }
            ]
        },
        {
            "id": "checkpoint-11",
            "name": "Full Component Generation",
            "category": "pre-release",
            "status": "pending",
            "gate": "All components working + no regressions",
            "items": [
                {
                    "id": "cp11-1",
                    "description": "All 12+ components generate successfully",
                    "status": "pending",
                    "componentCount": 12
                },
                {
                    "id": "cp11-2",
                    "description": "All components tested",
                    "status": "pending"
                },
                {
                    "id": "cp11-3",
                    "description": "All components work in HTML shells",
                    "status": "pending"
                },
                {
                    "id": "cp11-4",
                    "description": "No regressions in React adapter",
                    "status": "pending",
                    "command": "pnpm test"
                }
            ]
        },
        {
            "id": "checkpoint-12",
            "name": "Final Validation",
            "category": "pre-release",
            "status": "pending",
            "gate": "Final approval for release",
            "items": [
                {
                    "id": "cp12-1",
                    "description": "All DoD items complete",
                    "status": "pending"
                },
                {
                    "id": "cp12-2",
                    "description": "All KPIs met",
                    "status": "pending"
                },
                {
                    "id": "cp12-3",
                    "description": "Code review approved",
                    "status": "pending"
                },
                {
                    "id": "cp12-4",
                    "description": "Documentation complete",
                    "status": "pending"
                },
                {
                    "id": "cp12-5",
                    "description": "Release notes prepared",
                    "status": "pending"
                }
            ]
        }
    ],
    "kpis": {
        "development": [
            {
                "id": "kpi-dev-1",
                "name": "Test Coverage",
                "target": 95,
                "unit": "percent",
                "current": 0,
                "status": "pending",
                "command": "pnpm test:coverage"
            },
            {
                "id": "kpi-dev-2",
                "name": "TypeScript Errors",
                "target": 0,
                "unit": "count",
                "current": null,
                "status": "pending",
                "command": "tsc --noEmit"
            },
            {
                "id": "kpi-dev-3",
                "name": "Linting Errors",
                "target": 0,
                "unit": "count",
                "current": null,
                "status": "pending",
                "command": "pnpm lint"
            },
            {
                "id": "kpi-dev-4",
                "name": "Build Time",
                "target": 30,
                "unit": "seconds",
                "current": null,
                "status": "pending",
                "command": "pnpm build"
            },
            {
                "id": "kpi-dev-5",
                "name": "Code Generation Time",
                "target": 5,
                "unit": "seconds",
                "current": null,
                "status": "pending",
                "command": "pnpm generate:adapter web"
            }
        ],
        "quality": [
            {
                "id": "kpi-quality-1",
                "name": "Generated Code Validation",
                "target": 100,
                "unit": "percent",
                "current": 0,
                "status": "pending"
            },
            {
                "id": "kpi-quality-2",
                "name": "Component Spec Compliance",
                "target": 100,
                "unit": "percent",
                "current": 0,
                "status": "pending"
            },
            {
                "id": "kpi-quality-3",
                "name": "Accessibility Score",
                "target": "AAA",
                "unit": "level",
                "current": null,
                "status": "pending"
            },
            {
                "id": "kpi-quality-4",
                "name": "Browser Compatibility",
                "target": "Chrome 105+, Firefox 121+, Safari 15.4+",
                "unit": "browsers",
                "current": null,
                "status": "pending"
            }
        ],
        "performance": [
            {
                "id": "kpi-perf-1",
                "name": "Web Component Bundle Size",
                "target": 50,
                "unit": "KB gzipped",
                "current": null,
                "status": "pending"
            },
            {
                "id": "kpi-perf-2",
                "name": "HTML Page Load Time",
                "target": 100,
                "unit": "milliseconds",
                "current": null,
                "status": "pending"
            },
            {
                "id": "kpi-perf-3",
                "name": "Zero React Overhead",
                "target": 0,
                "unit": "KB",
                "current": null,
                "status": "pending"
            },
            {
                "id": "kpi-perf-4",
                "name": "Memory Usage",
                "target": "No leaks",
                "unit": "qualitative",
                "current": null,
                "status": "pending"
            }
        ],
        "adoption": [
            {
                "id": "kpi-adopt-1",
                "name": "Components Generated",
                "target": 12,
                "unit": "count",
                "current": 0,
                "status": "pending"
            },
            {
                "id": "kpi-adopt-2",
                "name": "HTML Shells Using Web Components",
                "target": 3,
                "unit": "count",
                "current": 0,
                "status": "pending"
            },
            {
                "id": "kpi-adopt-3",
                "name": "Documentation Completeness",
                "target": 100,
                "unit": "percent",
                "current": 0,
                "status": "pending"
            }
        ]
    },
    "definitionOfDone": {
        "functional": [
            {
                "id": "dod-func-1",
                "description": "Web Components adapter implements UniversalAdapter interface",
                "status": "pending"
            },
            {
                "id": "dod-func-2",
                "description": "Generates Web Components from existing JSON specs",
                "status": "pending"
            },
            {
                "id": "dod-func-3",
                "description": "Web Components support all variants and states from specs",
                "status": "pending"
            },
            {
                "id": "dod-func-4",
                "description": "Web Components apply AIBOS classes correctly",
                "status": "pending"
            },
            {
                "id": "dod-func-5",
                "description": "Composite components (with parts) generate correctly",
                "status": "pending"
            },
            {
                "id": "dod-func-6",
                "description": "Radix UI accessibility patterns implemented in vanilla JS",
                "status": "pending"
            },
            {
                "id": "dod-func-7",
                "description": "Web Components work in HTML shells (no React required)",
                "status": "pending"
            },
            {
                "id": "dod-func-8",
                "description": "TypeScript definitions generated for Web Components",
                "status": "pending"
            },
            {
                "id": "dod-func-9",
                "description": "Event Translation: React props (onValueChange) map to native CustomEvents (value-change)",
                "status": "pending",
                "critical": true
            },
            {
                "id": "dod-func-10",
                "description": "Light DOM Strategy: Components use Light DOM or Open Shadow DOM to inherit global style.css tokens",
                "status": "pending",
                "critical": true
            },
            {
                "id": "dod-func-11",
                "description": "Error Handling: Components implement error boundaries and graceful degradation",
                "status": "pending",
                "priority": "high"
            },
            {
                "id": "dod-func-12",
                "description": "Type-Safe Events: All CustomEvents have TypeScript definitions in .d.ts files",
                "status": "pending",
                "priority": "high"
            },
            {
                "id": "dod-func-13",
                "description": "Tree-Shaking: Runtime library exports individual ES modules for optimal bundle sizes",
                "status": "pending",
                "priority": "medium"
            },
            {
                "id": "dod-func-14",
                "description": "Automated A11y: Accessibility tests run automatically in CI/CD (axe-core)",
                "status": "pending",
                "priority": "medium"
            },
            {
                "id": "dod-func-15",
                "description": "Bundle Monitoring: Bundle size tracked and monitored in CI/CD pipeline",
                "status": "pending",
                "priority": "medium"
            }
        ],
        "quality": [
            {
                "id": "dod-quality-1",
                "description": "95% test coverage (unit + integration tests)",
                "status": "pending",
                "coverageTarget": 95
            },
            {
                "id": "dod-quality-2",
                "description": "All tests passing (pnpm test)",
                "status": "pending"
            },
            {
                "id": "dod-quality-3",
                "description": "TypeScript compilation successful (pnpm build:ts)",
                "status": "pending"
            },
            {
                "id": "dod-quality-4",
                "description": "No linting errors (pnpm lint)",
                "status": "pending"
            },
            {
                "id": "dod-quality-5",
                "description": "No TypeScript errors",
                "status": "pending"
            },
            {
                "id": "dod-quality-6",
                "description": "Code follows project style guide",
                "status": "pending"
            },
            {
                "id": "dod-quality-7",
                "description": "All generated code validated",
                "status": "pending"
            }
        ],
        "documentation": [
            {
                "id": "dod-doc-1",
                "description": "adapters/web/README.md - Web Components adapter guide",
                "status": "pending",
                "files": [
                    "adapters/web/README.md"
                ]
            },
            {
                "id": "dod-doc-2",
                "description": "docs/WEB_COMPONENTS_GUIDE.md - Usage guide for consumers",
                "status": "pending",
                "files": [
                    "docs/WEB_COMPONENTS_GUIDE.md"
                ]
            },
            {
                "id": "dod-doc-3",
                "description": "JSDoc comments on all public APIs",
                "status": "pending"
            },
            {
                "id": "dod-doc-4",
                "description": "Examples in HTML shells",
                "status": "pending",
                "files": [
                    "components/html/examples/*.html"
                ]
            },
            {
                "id": "dod-doc-5",
                "description": "Migration guide (if applicable)",
                "status": "pending"
            },
            {
                "id": "dod-doc-6",
                "description": "API reference updated",
                "status": "pending"
            }
        ],
        "integration": [
            {
                "id": "dod-integ-1",
                "description": "Adapter registered in adapters/index.ts",
                "status": "pending",
                "files": [
                    "adapters/index.ts"
                ]
            },
            {
                "id": "dod-integ-2",
                "description": "Build script updated (scripts/generate-adapter.ts)",
                "status": "pending",
                "files": [
                    "scripts/generate-adapter.ts"
                ]
            },
            {
                "id": "dod-integ-3",
                "description": "Package.json exports updated",
                "status": "pending",
                "files": [
                    "package.json"
                ]
            },
            {
                "id": "dod-integ-4",
                "description": "TypeScript config updated (if needed)",
                "status": "pending",
                "files": [
                    "tsconfig.build.json"
                ]
            },
            {
                "id": "dod-integ-5",
                "description": "CI/CD pipeline updated (if applicable)",
                "status": "pending"
            }
        ],
        "performance": [
            {
                "id": "dod-perf-1",
                "description": "Web Components bundle size < 50KB (gzipped)",
                "status": "pending",
                "target": 50,
                "unit": "KB"
            },
            {
                "id": "dod-perf-2",
                "description": "Zero React dependency for HTML pages",
                "status": "pending"
            },
            {
                "id": "dod-perf-3",
                "description": "Initial load time < 100ms (for HTML pages)",
                "status": "pending",
                "target": 100,
                "unit": "ms"
            },
            {
                "id": "dod-perf-4",
                "description": "No memory leaks (tested with DevTools)",
                "status": "pending"
            }
        ],
        "accessibility": [
            {
                "id": "dod-a11y-1",
                "description": "WCAG AAA compliant",
                "status": "pending"
            },
            {
                "id": "dod-a11y-2",
                "description": "Keyboard navigation works",
                "status": "pending"
            },
            {
                "id": "dod-a11y-3",
                "description": "Screen reader compatible",
                "status": "pending"
            },
            {
                "id": "dod-a11y-4",
                "description": "Focus management correct",
                "status": "pending"
            },
            {
                "id": "dod-a11y-5",
                "description": "ARIA attributes correct",
                "status": "pending"
            }
        ]
    },
    "risks": [
        {
            "id": "risk-1",
            "name": "Radix logic port complexity",
            "category": "technical",
            "impact": "high",
            "probability": "medium",
            "mitigation": "Start with Dialog (most complex), create reusable primitives",
            "status": "monitoring"
        },
        {
            "id": "risk-2",
            "name": "Browser compatibility",
            "category": "technical",
            "impact": "medium",
            "probability": "low",
            "mitigation": "Test in target browsers, use polyfills if needed",
            "status": "monitoring"
        },
        {
            "id": "risk-3",
            "name": "Performance overhead",
            "category": "technical",
            "impact": "low",
            "probability": "low",
            "mitigation": "Measure bundle size, optimize primitives",
            "status": "monitoring"
        },
        {
            "id": "risk-4",
            "name": "TypeScript definition generation",
            "category": "technical",
            "impact": "medium",
            "probability": "low",
            "mitigation": "Use existing patterns from React adapter",
            "status": "monitoring"
        },
        {
            "id": "risk-5",
            "name": "Drift from React adapter",
            "category": "process",
            "impact": "high",
            "probability": "medium",
            "mitigation": "Use same specs, automated validation",
            "status": "monitoring"
        },
        {
            "id": "risk-6",
            "name": "Incomplete documentation",
            "category": "process",
            "impact": "medium",
            "probability": "low",
            "mitigation": "Documentation checkpoints, review process",
            "status": "monitoring"
        },
        {
            "id": "risk-7",
            "name": "Test coverage gaps",
            "category": "process",
            "impact": "medium",
            "probability": "low",
            "mitigation": "Coverage targets, automated checks",
            "status": "monitoring"
        }
    ],
    "directoryStructure": {
        "required": [
            {
                "path": "adapters/web/",
                "type": "directory",
                "required": true
            },
            {
                "path": "adapters/web/adapter.ts",
                "type": "file",
                "description": "The Generator (Node.js)",
                "required": true
            },
            {
                "path": "adapters/web/runtime/",
                "type": "directory",
                "description": "The Browser Logic (Native Radix)",
                "required": true,
                "children": [
                    "primitives.ts",
                    "utils.ts",
                    "tsconfig.json"
                ]
            },
            {
                "path": "dist/web/lib/",
                "type": "directory",
                "description": "Compiled Runtime Output",
                "required": true
            }
        ]
    },
    "validation": {
        "commands": {
            "validateSpecs": "pnpm validate:specs",
            "test": "pnpm test",
            "testCoverage": "pnpm test:coverage",
            "lint": "pnpm lint",
            "build": "pnpm build",
            "buildTs": "pnpm build:ts",
            "buildRuntime": "pnpm build:runtime",
            "formatCheck": "pnpm format:check"
        },
        "rules": [
            {
                "id": "rule-1",
                "description": "All generated Web Components must use Radix UI accessibility patterns",
                "enforced": true
            },
            {
                "id": "rule-2",
                "description": "Web Components must be generated from existing JSON specs (no custom specs)",
                "enforced": true
            },
            {
                "id": "rule-3",
                "description": "Zero React dependency for HTML pages using Web Components",
                "enforced": true
            },
            {
                "id": "rule-4",
                "description": "All Web Components must have TypeScript definitions",
                "enforced": true
            },
            {
                "id": "rule-5",
                "description": "Test coverage must be ≥95%",
                "enforced": true,
                "coverageTarget": 95
            },
            {
                "id": "rule-6",
                "description": "CRITICAL: Components must use Light DOM (innerHTML) to inherit 'style.css' tokens. Shadow DOM is forbidden unless styled explicitly.",
                "enforced": true
            },
            {
                "id": "rule-7",
                "description": "Event Translation: React props (onValueChange) must map to native CustomEvents (na-value-change).",
                "enforced": true
            }
        ]
    },
    "metadata": {
        "created": "2026-01-03T00:00:00Z",
        "lastUpdated": "2026-01-03T00:00:00Z",
        "version": "1.1.0",
        "maintainer": "AIBOS Design System Team",
        "refinements": {
            "v1.1.0": [
                "Generator vs. Runtime Architecture Split",
                "Light DOM Strategy Enforcement",
                "Event Naming Contract",
                "Runtime Build Task"
            ]
        }
    }
}